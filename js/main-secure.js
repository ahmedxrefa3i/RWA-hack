secureAPI.setBaseURL("https://rico-secure-backend.onrender.com");let encryptedAccessLink="";async function testAPIConnection(){try{const e=await secureAPI.healthCheck();console.log("✅ API Connection successful:",e),showNotification("API Connected Successfully","success")}catch(e){console.error("❌ API Connection failed:",e),showNotification("API Connection Failed - Check console for details","error")}}function initializeEventListeners(){const e=document.getElementById("passwordInput");e&&e.addEventListener("keypress",e=>{"Enter"===e.key&&checkPassword()})}function hideLoadingScreen(){const e=document.getElementById("loadingScreen");e&&(e.style.opacity="0",setTimeout(()=>{e.style.display="none"},500))}async function checkPassword(){const e=document.getElementById("passwordInput"),t=e.value.trim(),n=document.querySelector(".access-btn"),o=n.innerHTML;if(!t)return showError("Please enter an access code");n.innerHTML='<i class="fas fa-spinner fa-spin"></i> Verifying...',n.disabled=!0;try{const e=await secureAPI.verifyPassword(t,"main");e.success&&e.url?(encryptedAccessLink=e.url,showSuccess("Access granted!"),setTimeout(()=>{const e=document.getElementById("contentFrame");e.src=encryptedAccessLink,e.style.display="block";const t=document.querySelector("button[onclick*='alertBox']"),n=document.querySelector("button[onclick*='showAlertModal']"),o=document.querySelector("button[onclick*='alertModal']"),s=document.querySelector("button[style*='crimson']"),c=document.querySelector("button i.fa-exclamation");t&&(t.style.display="none",console.log("Alert button 1 hidden")),n&&(n.style.display="none",console.log("Alert button 2 hidden")),o&&(o.style.display="none",console.log("Alert button 3 hidden")),s&&(s.style.display="none",console.log("Alert button 4 hidden")),c&&c.parentElement&&(c.parentElement.style.display="none",console.log("Alert button 5 hidden"));document.querySelectorAll('button[style*="position: fixed"][style*="bottom"][style*="left"]').forEach(e=>{(e.style.background.includes("crimson")||e.innerHTML.includes("fa-exclamation"))&&(e.style.display="none",console.log("Bottom left alert button hidden"))});const i=document.querySelector(".access-form");i&&(i.style.display="none"),history.replaceState({},document.title,window.location.pathname)},1e3)):showError(e.error||"Invalid access code")}catch(e){console.error("Password verification error:",e),showError("Connection error. Please try again.")}finally{n.innerHTML=o,n.disabled=!1,e.value=""}}function showError(e){const t=document.getElementById("errorMsg"),n=t?.querySelector(".message-text");n&&(n.textContent=e),t&&(t.style.display="flex",setTimeout(()=>t.style.display="none",5e3))}function showSuccess(e){const t=document.getElementById("successMsg"),n=t?.querySelector(".message-text");n&&(n.textContent=e),t&&(t.style.display="flex",setTimeout(()=>t.style.display="none",5e3))}function showNotification(e,t="info"){const n=document.createElement("div");n.className=`notification notification-${t}`,n.innerHTML=`\n        <i class="fas fa-${"success"===t?"check-circle":"error"===t?"exclamation-triangle":"info-circle"}"></i>\n        <span>${e}</span>\n    `;(document.getElementById("notificationContainer")||document.body).appendChild(n),setTimeout(()=>n.classList.add("show"),10),setTimeout(()=>{n.classList.remove("show"),setTimeout(()=>n.remove(),300)},4e3)}document.addEventListener("DOMContentLoaded",()=>{console.log("🚀 Rico World - Secure Version Loaded"),testAPIConnection(),initializeEventListeners(),setTimeout(hideLoadingScreen,2e3)}),window.checkPassword=checkPassword;
